# General Settings
env = XDG_CONFIG_HOME,$HOME/.config
env = XDG_DATA_HOME,$HOME/.local/share
env = XDG_CACHE_HOME,$HOME/.cache

monitor = DP-1, 1920x1080@144, 1920x0, 1
monitor = HDMI-A-1, 1920x1080, 0x0, 1

exec-once = waybar &
exec-once = swaync &
exec-once = hyprpaper -c ~/.config/hypr/hyprpaper_config &
exec-once = wl-paste --type text --watch cliphist store &
exec-once = wl-paste --type image --watch cliphist store &
exec-once = wl-clip-persist --clipboard both
exec-once = systemctl --user import-environment &
exec-once = hash dbus-update-activation-environment 2>/dev/null &
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP &
exec-once = fcitx5 &

# Workspaces (dual monitor layout)
workspace = 1,persistent:true,monitor:HDMI-A-1
workspace = 2,persistent:true,monitor:HDMI-A-1
workspace = 3,persistent:true,monitor:HDMI-A-1
workspace = 4,persistent:true,monitor:DP-1
workspace = 5,persistent:true,monitor:DP-1
workspace = 6,persistent:true,monitor:DP-1

# Input
input {
  kb_layout = us
  follow_mouse = 1
  accel_profile = flat
  force_no_accel = 1
  sensitivity = 0
}

# General Appearance
general {
  layout = dwindle
  gaps_in = 4
  gaps_out = 8
  border_size = 3
  no_border_on_floating = false
  col.active_border = 0xFFBFBDB6
}

# Window Rules
layerrule = blur,waybar
layerrule = ignorezero,waybar
layerrule = blur,class:launcher
windowrule = opacity 0.8,class:nemo
windowrule = opacity 0.95,class:kitty
layerrule = blur,class:kitty

# Misc
misc {
  disable_autoreload = true
  disable_hyprland_logo = true
  always_follow_on_dnd = true
  layers_hog_keyboard_focus = true
  animate_manual_resizes = false
  enable_swallow = true
  focus_on_activate = true
}

# Dwindle Layout
dwindle {
  force_split = 0
  special_scale_factor = 1.0
  split_width_multiplier = 1.0
  use_active_for_splits = true
  pseudotile = yes
  preserve_split = yes
}

# Master Layout
master {
  new_status = master
  special_scale_factor = 1
}

# Decoration
decoration {
  rounding = 10
	active_opacity = 1.0
	fullscreen_opacity = 1.0
  blur {
    enabled = true
    size = 2
    passes = 2
    brightness = 0.5
    contrast = 2
    ignore_opacity = true
    popups = true
    noise = 0
    new_optimizations = true
    xray = true
  }
}

# Animations
animations {
  enabled = true

  bezier = fluent_decel, 0, 0.2, 0.4, 1
  bezier = easeOutCirc, 0, 0.55, 0.45, 1
  bezier = easeOutCubic, 0.33, 1, 0.68, 1
  bezier = easeinoutsine, 0.37, 0, 0.63, 1

  animation = windowsIn, 1, 3, easeOutCubic, popin 30%
  animation = windowsOut, 1, 3, fluent_decel, popin 70%
  animation = windowsMove, 1, 2, easeinoutsine, slide

  animation = fadeIn, 1, 3, easeOutCubic
  animation = fadeOut, 1, 2, easeOutCubic
  animation = fadeSwitch, 0, 1, easeOutCirc
  animation = fadeShadow, 1, 10, easeOutCirc
  animation = fadeDim, 1, 4, fluent_decel

  animation = border, 1, 2.7, easeOutCirc
  animation = borderangle, 1, 30, fluent_decel, once
  animation = workspaces, 1, 4, easeOutCubic, fade
}

# Keybindings
$mainMod = SUPER

bind = $mainMod, up, exec, pactl set-sink-volume @default_sink@ +10%
bind = $mainMod, down, exec, pactl set-sink-volume @default_sink@ -10%
bind = $mainMod, t, exec, swaync-client -t -sw
bind = $mainMod, a, exec, firefox
bind = $mainMod, q, exec, kitty
bind = $mainMod SHIFT, q, exec, [float;size 40% 30%;move onscreen cursor -50% -50%] kitty
bind = $mainMod, c, killactive,
bind = $mainMod SHIFT, c, exec, hyprctl kill
bind = $mainMod, e, exec, [float;size 40% 50%;move onscreen cursor -50% -50%] nemo
bind = $mainMod, p, exec, [float;size 40% 25%;move onscreen cursor] [ ! -f /tmp/keyringfile ] && kitty toolbelt
bind = $mainMod SHIFT, m, exit,
bind = $mainMod, m, exec, fuzzel
bind = $mainMod, r, exec, neovide
bind = $mainMod, b, togglesplit
bind = $mainMod, f, togglefloating
bind = $mainMod, g, fullscreen
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d
bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, l, movewindow, r
bind = $mainMod SHIFT, k, movewindow, u
bind = $mainMod SHIFT, j, movewindow, d
bind = $mainMod, d, exec, switchmon

# Workspace bindings
bind = $mainMod, 1, exec, hyprctl dispatch workspace 1
bind = $mainMod, 2, exec, hyprctl dispatch workspace 2
bind = $mainMod, 3, exec, hyprctl dispatch workspace 3
bind = $mainMod, 4, exec, hyprctl dispatch workspace 4
bind = $mainMod, 5, exec, hyprctl dispatch workspace 5
bind = $mainMod, 6, exec, hyprctl dispatch workspace 6
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6

# Special workspace
bind = $mainMod, s, togglespecialworkspace, magic
bind = $mainMod SHIFT, s, movetoworkspace, special:magic

# Screenshot bindings
bind = $mainMod, print, exec, grimblast copy area
bind = $mainMod SHIFT, print, exec, grimblast --freeze copy area

# Mouse binds
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
